
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../3.1%20Machine%20Language/">
      
      
        <link rel="next" href="../5.1%20Assemblers/">
      
      
      <link rel="icon" href="../../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.7">
    
    
      
        <title>4.1 Computer Architecture - Brain Two</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/table.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#fundamentals" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Brain Two" class="md-header__button md-logo" aria-label="Brain Two" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Brain Two
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4.1 Computer Architecture
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Ahoy!

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../Home/" class="md-tabs__link">
          
  
  Computer Systems

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Brain Two" class="md-nav__button md-logo" aria-label="Brain Two" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    Brain Two
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ahoy!
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Computer Systems
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Computer Systems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Home/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../1.1%20Boolean%20Logic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.1 Boolean Logic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../1.2%20Boolean%20Arithmetic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.2 Boolean Arithmetic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../10.1%20Compiler%20Code%20Generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10.1 Compiler Code Generation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../11.1%20Signals%20%26%20Caching/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11.1 Signals & Caching
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../2.1%20Logic%20Gates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1 Logic Gates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../2.2%20Memory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2 Memory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../3.1%20Machine%20Language/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1 Machine Language
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    4.1 Computer Architecture
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    4.1 Computer Architecture
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fundamentals" class="md-nav__link">
    Fundamentals
  </a>
  
    <nav class="md-nav" aria-label="Fundamentals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stored-program-concept" class="md-nav__link">
    Stored Program Concept
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#von-neumann-architecture" class="md-nav__link">
    Von Neumann Architecture
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory" class="md-nav__link">
    Memory
  </a>
  
    <nav class="md-nav" aria-label="Memory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-memory" class="md-nav__link">
    Data Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instruction-memory" class="md-nav__link">
    Instruction Memory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpu" class="md-nav__link">
    CPU
  </a>
  
    <nav class="md-nav" aria-label="CPU">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alu" class="md-nav__link">
    ALU
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registers" class="md-nav__link">
    Registers:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control" class="md-nav__link">
    Control
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-output" class="md-nav__link">
    Input &amp; Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hack-specification" class="md-nav__link">
    Hack Specification
  </a>
  
    <nav class="md-nav" aria-label="Hack Specification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu_1" class="md-nav__link">
    CPU
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instruction-memory_1" class="md-nav__link">
    Instruction Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io" class="md-nav__link">
    I/O
  </a>
  
    <nav class="md-nav" aria-label="I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#screen" class="md-nav__link">
    Screen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keyboard" class="md-nav__link">
    Keyboard
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-memory_1" class="md-nav__link">
    Data Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computer" class="md-nav__link">
    Computer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hack-implementation" class="md-nav__link">
    Hack Implementation
  </a>
  
    <nav class="md-nav" aria-label="Hack Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu_2" class="md-nav__link">
    CPU
  </a>
  
    <nav class="md-nav" aria-label="CPU">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction-decoding" class="md-nav__link">
    Instruction Decoding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instruction-execution" class="md-nav__link">
    Instruction Execution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instruction-fetching" class="md-nav__link">
    Instruction Fetching
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory_1" class="md-nav__link">
    Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computer_1" class="md-nav__link">
    Computer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../5.1%20Assemblers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.1 Assemblers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../6.1%20Stack%20Machines%20%26%20Arithmetic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.1 Stack Machines & Arithmetic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../7.1%20Stack%20Frames%20%26%20Function%20Handling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.1 Stack Frames & Function Handling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../8.1%20High%20Level%20Languages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.1 High Level Languages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../8.2%20Jack%20Examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.2 Jack Examples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../9.1%20Compiler%20Syntax/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.1 Compiler Syntax
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Past%20Papers/Links/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Past Papers
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Revision/Links/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Revision
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fundamentals" class="md-nav__link">
    Fundamentals
  </a>
  
    <nav class="md-nav" aria-label="Fundamentals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stored-program-concept" class="md-nav__link">
    Stored Program Concept
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#von-neumann-architecture" class="md-nav__link">
    Von Neumann Architecture
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory" class="md-nav__link">
    Memory
  </a>
  
    <nav class="md-nav" aria-label="Memory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-memory" class="md-nav__link">
    Data Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instruction-memory" class="md-nav__link">
    Instruction Memory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpu" class="md-nav__link">
    CPU
  </a>
  
    <nav class="md-nav" aria-label="CPU">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alu" class="md-nav__link">
    ALU
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registers" class="md-nav__link">
    Registers:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control" class="md-nav__link">
    Control
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-output" class="md-nav__link">
    Input &amp; Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hack-specification" class="md-nav__link">
    Hack Specification
  </a>
  
    <nav class="md-nav" aria-label="Hack Specification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu_1" class="md-nav__link">
    CPU
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instruction-memory_1" class="md-nav__link">
    Instruction Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io" class="md-nav__link">
    I/O
  </a>
  
    <nav class="md-nav" aria-label="I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#screen" class="md-nav__link">
    Screen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keyboard" class="md-nav__link">
    Keyboard
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-memory_1" class="md-nav__link">
    Data Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computer" class="md-nav__link">
    Computer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hack-implementation" class="md-nav__link">
    Hack Implementation
  </a>
  
    <nav class="md-nav" aria-label="Hack Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu_2" class="md-nav__link">
    CPU
  </a>
  
    <nav class="md-nav" aria-label="CPU">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction-decoding" class="md-nav__link">
    Instruction Decoding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instruction-execution" class="md-nav__link">
    Instruction Execution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instruction-fetching" class="md-nav__link">
    Instruction Fetching
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory_1" class="md-nav__link">
    Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computer_1" class="md-nav__link">
    Computer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>4.1 Computer Architecture</h1>

<div><h2 id="fundamentals">Fundamentals</h2>
<h3 id="stored-program-concept">Stored Program Concept</h3>
<ul>
<li>A fixed hardware platform capable of executing a fixed set of simple instructions which exist temporarily in memory</li>
<li>This means the platform can behave differently each time it is loaded with a new program</li>
</ul>
<h3 id="von-neumann-architecture">Von Neumann Architecture</h3>
<ul>
<li>A CPU interacting with memory, receiving data from an input and emitting to some output</li>
<li>Memory stores not only the manipulated data, but the instructions that tell the computer what to do</li>
</ul>
<p><img alt="figure_5.1" src="../../../assets/Images/figure_5.1.png"></p>
<h3 id="memory">Memory</h3>
<ul>
<li>Linear sequence of addressable, fixed size registers each having a unique address and a value</li>
<li>Stores data and instructions as sequences of bits</li>
</ul>
<h4 id="data-memory">Data Memory</h4>
<ul>
<li>Abstractions such as variables, arrays and objects are are just binary values stored in registers</li>
<li>To read a register, supply an address and probe the value of the address</li>
<li>To write to a register, supply an address and store a new value in the register, overriding the previous value</li>
</ul>
<h4 id="instruction-memory">Instruction Memory</h4>
<ul>
<li>High level code must first be translated into machine code, written as binary values inside a <em>binary</em> or <em>executable</em> version of the program</li>
</ul>
<h3 id="cpu">CPU</h3>
<ul>
<li>Executes instructions of the current program<ul>
<li>Each instruction tells the CPU which computation to perform, which registers to access and which instruction to fetch and execute next</li>
<li>Achieved using Arithmetic Logic Unit, a set of registers and a control unit</li>
</ul>
</li>
</ul>
<h4 id="alu">ALU</h4>
<ul>
<li>Performs low level arithmetic and logic operations</li>
<li>Adds two given values, computer their bitwise AND, compare them for equality, etc</li>
</ul>
<h4 id="registers">Registers:</h4>
<ul>
<li>CPU needs to store temporary values with short distances from ALU (memory units not suitable for this reason, otherwise cause starvation)<ul>
<li>Include a small set of high speed registers</li>
<li>Data registers to store values that are used to address the RAM</li>
<li>Program counter register stores the address of the next instruction</li>
<li>Instruction register stores the current instruction</li>
</ul>
</li>
</ul>
<h4 id="control">Control</h4>
<ul>
<li>Instructions need to be decoded into micro codes which are then routed to its designated hardware device, where it tells the CPU how to use to do the instruction</li>
</ul>
<h3 id="input-output">Input &amp; Output</h3>
<ul>
<li>All input devices are treated the same via memory-mapped IO<ul>
<li>This is basically a binary emulation of the I/O device, making it appear to the CPU as if it were regular memory segment</li>
</ul>
</li>
<li>For each device, a designated area in the memory has a dedicated memory map<ul>
<li>For example, a keyboard memory map tracks what keys are pressed in binary</li>
</ul>
</li>
<li>These maps are refreshed many times per second</li>
</ul>
<h2 id="hack-specification">Hack Specification</h2>
<ul>
<li>A Von Neumann machine consisting of a CPU, two separate memory modules for instructions and data, and two memory mapped IO devices - a screen and keyboard<ul>
<li>CPU consists of the ALU, data, address and program counter registers</li>
</ul>
</li>
<li>Executes programs that reside in instruction memory<ul>
<li>A instructions, 16 bits of instruction are loaded into the A register</li>
<li>C instructions, split into various bits that are sent to different parts of the CPU</li>
</ul>
</li>
</ul>
<h3 id="cpu_1">CPU</h3>
<ul>
<li>Executes 16 bit instructions according to hack machine language</li>
<li>Consists of ALU, A and D registers, program counter</li>
<li>Connects to instruction memory to fetch instructions for execution</li>
<li>Connects to data memory to read and write data values<ul>
<li><code>inM</code> and <code>outM</code> hold the values referred to as <code>M</code> in the hack syntax</li>
<li><code>addressM</code> holds the address at which <code>outM</code> should be written</li>
</ul>
</li>
</ul>
<p><img alt="figure_5.2" src="../../../assets/Images/figure_5.2.png"></p>
<ul>
<li>A instruction<ul>
<li>CPU loads the 16 bit value into the A register</li>
</ul>
</li>
<li>C instruction<ul>
<li>CPU causes the ALU to perform the computation specified by instruction and stores in <code>A, D, M</code> registers</li>
<li>If one of the destination registers is <code>M</code>, <code>outM</code> is set to the ALU output, and <code>writeM</code> becomes 1 (meaning its allowed to write)</li>
</ul>
</li>
<li>If reset == 1, then PC jumps to 0</li>
</ul>
<h3 id="instruction-memory_1">Instruction Memory</h3>
<p><img alt="figure_5.3" src="../../../assets/Images/figure_5.3.png"></p>
<h3 id="io">I/O</h3>
<ul>
<li>Access to I/O devices made possible by data memory where memory maps are stored</li>
<li>When one or more bits are changed in a memory map, the change is immediately reflected in whatever medium</li>
<li>Realised by built in chips called <code>Screen</code> and <code>Keyboard</code></li>
</ul>
<h4 id="screen">Screen</h4>
<ul>
<li>256 rows of 512 black and white pixels each, spanning a grid of 131,072 pixels</li>
<li>Computer interfaces with the physical screen via a memory chip, meaning that it can be read and written to using a regular RAM interface</li>
<li>State of any 1 of its bits is reflected by a pixel on the physical screen <code>1=black, 0=white</code></li>
</ul>
<p><img alt="figure_5.4" src="../../../assets/Images/figure_5.4.png"></p>
<h4 id="keyboard">Keyboard</h4>
<ul>
<li>Interfaces with a physical keyboard via a memory map</li>
<li>Chip is a read only 16 bit register<ul>
<li>When a key is pressed, the 16 bit code of the character is emitted by the chip</li>
<li>When no key is pressed, the chip emits 0</li>
</ul>
</li>
</ul>
<p><img alt="figure_5.5" src="../../../assets/Images/figure_5.5.png"></p>
<h3 id="data-memory_1">Data Memory</h3>
<ul>
<li>Realised in a chip called <code>Memory</code></li>
<li>Package of three 16bit chip parts - <code>RAM16k, Screen, Keyboard</code></li>
</ul>
<p><img alt="figure_5.5" src="../../../assets/Images/figure_5.5.png"></p>
<h3 id="computer">Computer</h3>
<ul>
<li>Top most abstraction of the architecture</li>
<li>Connected to Screen and Keyboard</li>
<li>Has a single but input for reset</li>
</ul>
<p><img alt="figure_5.7" src="../../../assets/Images/figure_5.7.png"></p>
<ul>
<li>Start up logic is essentially booting the computer<ul>
<li>OS kernel is loaded into the RAM and starts executing, kernel executes everything else and listens to I/O and reacts by running even more processes to execute stuff</li>
</ul>
</li>
</ul>
<h2 id="hack-implementation">Hack Implementation</h2>
<h3 id="cpu_2">CPU</h3>
<ul>
<li>Needs to:<ul>
<li>Execute a given hack instruction</li>
<li>Determine which instruction should be fetched and executed next</li>
</ul>
</li>
<li>Gate logic needs to decode the current instruction</li>
<li>ALU computes the function specified by the instruction</li>
<li>Registers to store resulting values</li>
<li>Program counter to keep track of which instructions should be fetched and executed next</li>
</ul>
<p><img alt="figure_5.8" src="../../../assets/Images/figure_5.8.png"></p>
<h4 id="instruction-decoding">Instruction Decoding</h4>
<ul>
<li>The 16bit instruction value represents an A or C instruction (starts with 0 or 1 respectively)<ul>
<li>A instruction - bits are interpreted as a binary value that represents an address and so is stored in the A register</li>
<li>C instruction - The instruction is treated as a combination of bits <code>1xxaccccccdddjjj</code><ul>
<li>The <code>a</code> and <code>cccccc</code> bits code the <code>comp</code> part of the instruction</li>
<li>The <code>ddd</code> bits code the <code>dest</code> part of the instruction</li>
<li>The <code>jjj</code> bits code the <code>jump</code> part of the instruction</li>
<li>The <code>xx</code> bits are ignored</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="instruction-execution">Instruction Execution</h4>
<ul>
<li>A instruction - 16 bits are loaded as is into the A register</li>
<li>C instruction:<ul>
<li><code>a</code> bit determines whether the ALU will be fed from the A register value or from the incoming M value</li>
<li><code>cccccc</code> bits determine which function the ALU will compute</li>
<li><code>ddd</code> bits determine which registers should accept the ALU output</li>
<li><code>jjj</code> bits determine which instruction to fetch next</li>
</ul>
</li>
<li>These broken down parts are then routed into their respective chip destinations, where they instruct the chips what to do in order to partake in execution</li>
</ul>
<h4 id="instruction-fetching">Instruction Fetching</h4>
<ul>
<li>CPU determines and outputs the address of the next instruction inside the program counter</li>
<li>Current program is stored in instruction memory, starting at address 0<ul>
<li>If we wish to start (or restart), program counter should be set to 0</li>
</ul>
</li>
<li>Therefore, default logic of the program counter is <code>PC++</code> (to go to the next instruction in memory)<ul>
<li>For jump instructions, we say <code>PC=A,</code> (since execution always branches to the instruction whose address is the current value of A) else <code>PC++</code></li>
<li>We route <code>A</code> register into the PC register to do this</li>
<li>Together <code>jjj</code> and <code>zr and ng</code> bits from the ALU determine whether jump condition is needed or not</li>
</ul>
</li>
</ul>
<p><img alt="Pasted image 20230815121257" src="../../../assets/Pasted%20image%2020230815121257.png"></p>
<h3 id="memory_1">Memory</h3>
<ul>
<li>Aggregate of <code>RAM16k, Screen and Keyboard</code><ul>
<li>Though, this is treated as a single memory space ranging from 0 to address 24576</li>
</ul>
</li>
</ul>
<h3 id="computer_1">Computer</h3>
<ul>
<li>Can be realised using three chip parts - <code>CPU, Memory and ROM32K</code> </li>
</ul>
<p><img alt="figure_5.9" src="../../../assets/Images/figure_5.9.png"></p>
<ul>
<li>Fetch / Execute Cycle:<ul>
<li>When <code>reset</code> input = 1, the CPU's <code>pc</code> output emits 0, causing the instruction memory <code>ROM32K</code> to emit the first instruction in the program</li>
<li>The instruction will be executed by the CPU, and this execution may involve reading and writing to a data memory register</li>
<li>In the process of executing, the CPU figures out which instruction to fetch next and sends this to it's <code>pc</code> output</li>
<li>The <code>pc</code> output feeds the address input of the instruction memory, causing the latter to output the next instruction to be executed</li>
<li>To infinity and beyond</li>
</ul>
</li>
</ul></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tabs", "navigation.tabs.sticky", "navigation.prune", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>